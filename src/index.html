<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SocialGuard - Social Engineering Simulator</title>
    <link rel="icon" type="image/svg+xml" href="/public/socialguard.png">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script type="module" src="app.js"></script>
    <script type="module" src="request.js"></script>
     <script type="module" src="campLaunch.js"></script>
     <script type="module" src="./navbar.js"></script>
     <!-- in <head> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

     <style>
    /* âœ… Analytics Section Styles */
    .container {
      max-width: 1200px;
      margin: 20px auto;
      padding: 0 20px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
    }
    .card {
      background: rgb(189, 182, 182);
      padding: 16px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    }
    .card h2 {
      font-size: 1.1rem;
      margin-bottom: 8px;
    }
    .card p {
      font-size: 1rem;
      margin: 0;
    }
    canvas {
      max-width: 100%;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 12px;
      font-size: 0.9rem;
    }
    table th, table td {
      padding: 8px;
      border-bottom: 1px solid #ddd;
      text-align: left;
    }
    table th {
      background: #abafb6;
    }
  </style>


</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <div id="navbar"></div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Tab -->
            <section id="dashboard" class="tab-content active">
                <div class="welcome-section">
                    <h2>Welcome to Social Engineering Attack Simulator</h2>
                    <p>Test and improve your organization's resilience against social engineering attacks through realistic simulations and comprehensive training programs.</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Global Failure Rate</h3>
                        <div class="stat-value">20%</div>
                        <div class="stat-desc">Industry average for social engineering attacks</div>
                    </div>
                    <div class="stat-card">
                        <h3>Target Failure Rate</h3>
                        <div class="stat-value">5%</div>
                        <div class="stat-desc">Your organization's target benchmark</div>
                    </div>
                    <div class="stat-card">
                        <h3>Reporting Improvement</h3>
                        <div class="stat-value">60%</div>
                        <div class="stat-desc">Average increase in threat reporting</div>
                    </div>
                    <div class="stat-card">
                        <h3>Training Time</h3>
                        <div class="stat-value">45 min</div>
                        <div class="stat-desc">Average time to complete training modules</div>
                    </div>
                </div>

                <div class="charts-section">
                    <div class="chart-container">
                        <h3>Attack Types by Frequency</h3>
                        <img src="https://ppl-ai-code-interpreter-files.s3.amazonaws.com/web/direct-files/3138b98ca4b097138b07dc751bc60f9f/7de49060-3615-4feb-bfdb-6a195357bada/14e11903.png" alt="Social Engineering Attack Types by Frequency" class="dashboard-chart">
                    </div>
                    <div class="chart-container">
                        <h3>Training Effectiveness Over Time</h3>
                        <img src="https://ppl-ai-code-interpreter-files.s3.amazonaws.com/web/direct-files/3138b98ca4b097138b07dc751bc60f9f/46444f04-3f92-4cdf-8602-20682f887995/1ae0f813.png" alt="Phishing Training Effectiveness Over Time" class="dashboard-chart">
                    </div>
                </div>

                <div class="case-studies">
                    <h3>Success Stories</h3>
                    <div class="case-study-grid">
                        <div class="case-study-card">
                            <h4>Royal Bank of Scotland</h4>
                            <p><strong>78% reduction</strong> in susceptibility</p>
                            <span class="employees">80,000 employees trained</span>
                        </div>
                        <div class="case-study-card">
                            <h4>Northeastern US College</h4>
                            <p><strong>90% reduction</strong> in successful attacks</p>
                            <span class="timeframe">Achieved in 12 months</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Attack Scenarios Tab -->
            <section id="scenarios" class="tab-content">
                <h2>Attack Scenario Library</h2>
                <p>Explore different types of social engineering attacks and their characteristics.</p>
                
                <div class="scenarios-grid">
                    <div class="scenario-card" data-attack="phishing">
                        <div class="scenario-header">
                            <h3>Phishing</h3>
                            <span class="frequency">85% frequency</span>
                        </div>
                        <p>Email-based deception to steal credentials</p>
                        <div class="scenario-details">
                            <span class="templates">1 template</span>
                            <span class="difficulty">Advanced</span>
                        </div>
                        <button class="btn btn--primary btn--sm view-templates-btn">View Template</button>
                    </div>

                    <div class="scenario-card" data-attack="smishing">
                        <div class="scenario-header">
                            <h3>Smishing</h3>
                            <span class="frequency">30% frequency</span>
                        </div>
                        <p>SMS/text message based attacks</p>
                        <div class="scenario-details">
                            <span class="templates">1 template</span>
                            <span class="difficulty">Basic</span>
                        </div>
                        <button class="btn btn--primary btn--sm view-templates-btn">View Template</button>
                    </div>
                </div>
            </section>

            <!-- Simulation Builder Tab -->
            <section id="builder" class="tab-content">
                <h2>Simulation Builder</h2>
                <p>Create and configure custom social engineering simulation campaigns.</p>
                
                <div class="builder-container">
                    <form class="simulation-form">
                        <div class="form-section">
                            <h3>Campaign Details</h3>
                            <div class="form-group">
                                <label class="form-label" for="campaign-name">Campaign Name</label>
                                <input type="text" id="campaign-name" class="form-control" placeholder="Enter campaign name">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="attack-type">Attack Type</label>
                                <select id="attack-type" class="form-control">
                                    <option value="">Select attack type</option>
                                    <option value="phishing">Phishing</option>
                                    <option value="smishing">Smishing</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="difficulty">Scenario Template</label>
                                <select id="difficulty" class="form-control">
                                    <option value="">Select scenario template</option>
                                    <option value="amazon offer claim">Amazon Offer Claim</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn btn--primary launch-campaign-btn">Launch Campaign</button>
                        </div>
                    </form>

                    <div class="preview-section">
                        <h3>Campaign Preview</h3>
                        <div class="preview-card">
                            <div class="preview-placeholder">
                                <p>Select attack type and difficulty to preview simulation content</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Training Tab -->
            <section id="training" class="tab-content">
                <h2>Training Modules</h2>
                <p>Interactive training content to educate employees about social engineering threats.</p>
                
                <div class="training-modules">
                    <div class="module-card">
                        <h3>Identifying Social Engineering</h3>
                        <p>Learn to recognize common social engineering tactics.</p>
                        <button class="btn btn--primary btn--sm">Read Module</button>
                    </div>

                    <div class="module-card">
                        <h3>Email Security Best Practices</h3>
                        <p>Master email security fundamentals and phishing detection.</p>
                        <button class="btn btn--primary btn--sm">Read Module</button>
                    </div>

                    <div class="module-card">
                        <h3>Incident Reporting</h3>
                        <p>Learn proper procedures for reporting suspicious activity.</p>
                        <button class="btn btn--primary btn--sm">Read Module</button>
                    </div>

                    <div class="module-card">
                        <h3>Case Studies & Examples</h3>
                        <p>Review real-world social engineering attack examples.</p>
                        <button class="btn btn--primary btn--sm">Read Module</button>
                    </div>
                </div>
            </section>

            
           <!-- Analytics Tab -->
 <section id="analytics" class="tab-content">
        <h2>Results Analytics</h2>
        <p>Track visitor stats, behavior, and simulation metrics.</p>
<div style="text-align:right; margin: 12px 0;">
  <button id="downloadReport" class="btn" style="padding:8px 12px; border-radius:8px; background:#2563eb; color:white; border:none; cursor:pointer;">
    ðŸ“„ Download Report
  </button>
</div>

        <div class="container">
          <!-- Stats -->
          <div class="grid">
            <div class="card">
              <h2>Total Visitors</h2>
              <p id="totalVisitors">0</p>
            </div>
            <div class="card">
              <h2>Unique IPs</h2>
              <p id="uniqueIps">0</p>
            </div>
            <div class="card">
              <h2>Top City</h2>
              <p id="topCity">-</p>
            </div>
            <div class="card">
              <h2>Top ISP</h2>
              <p id="topIsp">-</p>
            </div>
            <div class="card">
              <h2>Top Browser</h2>
              <p id="topBrowser">-</p>
            </div>
          </div>

          <!-- Charts -->
          <div class="grid" style="margin-top:20px;">
            <div class="card">
              <h2>Visitor Trends</h2>
              <canvas id="trendChart"></canvas>
            </div>
            <div class="card">
              <h2>Visitors by City</h2>
              <canvas id="cityChart"></canvas>
            </div>
            <div class="card">
              <h2>Browsers</h2>
              <canvas id="browserChart"></canvas>
            </div>
          </div>

          <!-- Extra Charts -->
          <div class="grid" style="margin-top:20px;">
            <div class="card">
              <h2>Visits by Hour</h2>
              <canvas id="hourChart"></canvas>
            </div>
            <div class="card">
              <h2>New vs Returning</h2>
              <canvas id="returningChart"></canvas>
            </div>
            <div class="card">
              <h2>Suspicious IPs</h2>
              <ul id="suspiciousIps"><li>Loading...</li></ul>
            </div>
          </div>

          <!-- Logs Table -->
          <div class="card" style="margin-top:20px;">
            <h2>Visitor Logs</h2>
            <table id="logsTable">
              <thead>
                <tr>
                  <th>IP</th>
                  <th>City</th>
                  <th>ISP</th>
                  <th>Browser</th>
                  <th>Timestamp</th>
                </tr>
              </thead>
              <tbody>
                <tr><td colspan="5">Loading...</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>


    <!-- Modal for Attack Templates -->
    <div id="templatesModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Attack Templates</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div id="modalContent"></div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Campaign Launched Successfully</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p>Your social engineering simulation campaign has Started Successfully.</p>
                <div class="modal-actions">
                    <button class="btn btn--primary modal-close">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="./dash.js"></script>

</body>
</html>